<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>BusTrip Details</title>
    <style>
        body { font-family: sans-serif; margin: 2em; }
        .detail-item { margin-bottom: 10px; }
        .detail-item label { font-weight: bold; width: 120px; display: inline-block; }
        .btn-link { background: none; color: #007bff; text-decoration: underline; padding: 0; }
        .sub-table { margin-top: 20px; border-collapse: collapse; width: 100%; }
        .sub-table th, .sub-table td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        .sub-table th { background-color: #f9f9f9; }
        h2 { margin-top: 30px; border-bottom: 2px solid #eee; padding-bottom: 10px; }
    </style>
</head>
<body>
<h1>BusTrip Details</h1>

<div th:object="${busTrip}">
    <div class="detail-item">
        <label>Trip ID:</label>
        <span th:text="*{id}">1</span>
    </div>
    <div class="detail-item">
        <label>Route:</label>
        <span th:text="*{route.origin.name + ' -> ' + route.destination.name}">Berlin -> Hamburg</span>
    </div>
    <div class="detail-item">
        <label>Bus:</label>
        <span th:text="*{bus.name}">B-123-GO</span>
    </div>
    <div class="detail-item">
        <label>Startzeit:</label>
        <span th:text="*{startTime}">...</span>
    </div>
    <div class="detail-item">
        <label>Status:</label>
        <span th:text="*{status}">Planned</span>
    </div>

    <h2>Lista Pasageri (Tickets)</h2>

    <div th:if="${#lists.isEmpty(busTrip.tickets)}">
        <p><i>Niciun bilet vândut pentru această cursă.</i></p>
    </div>

    <table class="sub-table" th:unless="${#lists.isEmpty(busTrip.tickets)}">
        <thead>
        <tr>
            <th>Ticket ID</th>
            <th>Nume Pasager</th>
            <th>Vârstă</th>
            <th>Loc</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="t : *{tickets}">
            <td th:text="${t.id}">55</td>
            <td th:text="${t.passenger.name}">Ion Popescu</td>
            <td th:text="${t.passenger.age}">30</td>
            <td th:text="${t.seatNumber}">4B</td>
        </tr>
        </tbody>
    </table>
</div>

<br/>
<a th:href="@{/bustrips}" class="btn-link">Zurück zur Liste</a>
</body>
</html>